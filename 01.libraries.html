<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Webscripting 2 &mdash; Serverside Webscripting</title>

		<link href='http://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic' rel='stylesheet' type='text/css'>

		<link rel="stylesheet" href="css/reset.css">
		<link rel="stylesheet" href="css/main.css" media="screen">
		<link rel="stylesheet" href="css/print.css" media="print">

		<link rel="stylesheet" href="lib/zenburn.css">
		<style>
			html, body {
				background: #34afbd;
				background: -moz-radial-gradient(center, ellipse cover, #34afbd 0%,#1c1e20 100%);
				background: -webkit-gradient(radial, center center, 0px, center center, 100%, color-stop(0%,#34afbd), color-stop(100%,#1c1e20));
				background: -webkit-radial-gradient(center, ellipse cover, #34afbd 0%,#1c1e20 100%);
				background: -o-radial-gradient(center, ellipse cover, #34afbd 0%,#1c1e20 100%);
				background: -ms-radial-gradient(center, ellipse cover, #34afbd 0%,#1c1e20 100%);
				background: radial-gradient(center, ellipse cover, #34afbd 0%,#1c1e20 100%);
				letter-spacing: 0em;
			}

			#reveal nav {
				opacity: 0.3;
				letter-spacing: -0.02em;
			}
		</style>
	</head>

	<body>

		<div id="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">


				<!-- Title -->
				<section>
					<section>
						<h3 class="inverted">Serverside Webscripting 2 <small>[JLW506]</small></h3>
						<h1>01.libraries &amp;<br>Composer</h1>

						<footer>
							<em>Course materials: <a href="http://www.bram.us/">Bram(us) Van Damme</a> &mdash; Lecturer: <a href="mailto:joris.maervoet@odisee.be">Joris Maervoet</a></em>
						</footer>
						<script>
							// Delicously hacky. Look away.
							if( navigator.userAgent.match( /(iPhone|iPad|iPod|Android)/i ) )
							document.write( '<p style="color: rgba(0,0,0,0.3); text-shadow: none;">('+'Tap to navigate'+')</p>' );
						</script>
					</section>
				</section>


				<!-- Libaries -->
				<section>
					<section>
						<h2>Libraries &amp; Frameworks</h2>

						<p><img src="assets/01/splash-libraries.jpg" alt="" title="" width="446" height="309"></p>
						<q>Welcome to the Head Museum. I'm Leonard Nimoy.</q>
					</section>

					<section>
						<h2>Library?</h2>
						<ul>
							<li class="fragment">
								Set of one or more PHP Classes which you can use in your own project
							</li>
							<li class="fragment" style="margin-top: 1em;">
								Provide in one or several functionalities
								<div class="columns fragment">
									<div class="column column-12">
										<ul>
											<li>Sending e-mail</li>
											<li>Templating</li>
											<li>Working with PDF or Word or Excel documents</li>
											<li>Graphing/Charting</li>
											<li>Working with Files &amp; Folders</li>
										</ul>
									</div>
									<div class="column column-12">
										<ul>
											<li>Caching</li>
											<li>Data Generation</li>
											<li>Database Access</li>
											<li>Validation</li>
											<li>etc.</li>
										</ul>
									</div>
								</div>
							</li>
						</ul>
					</section>

					<section>
						<h2>Properties of a library</h2>
						<ul>
							<li class="fragment">
								Core properties
								<ul>
									<li class="fragment">Build on top of the existing PHP core functions (or an other library)</li>
									<li class="fragment">Include it in your own code in order to get it to work</li>
								</ul>
							</li>
							<li class="fragment" style="margin-top: 1em;">
								Optional properties
								<ul class="twocolled">
									<li class="fragment">Standalone</li>
									<li class="fragment">Structured</li>
									<li class="fragment">Documentation provided</li>
									<li class="fragment">Unit Tested</li>
									<li class="fragment">Extensible</li>
									<li class="fragment">PSR-X Compliant<br /><em>(more on that later)</em></li>
								</ul>
							</li>
						</ul>
						<footer class="fragment"><em>Tip: you can identify a well-written library if it has most (it not all!) of the optional properties</em></footer>
					</section>

					<section>
						<h2>Example Libraries</h2>
						<ul>
							<li class="fragment">
								Specific Libraries
								<ul>
									<li class="fragment">Templating: Twig</li>
									<li class="fragment">Sending e-mail: PHPMailer, SwiftMailer, &hellip;</li>
									<li class="fragment">Working with PDF files: TCPDF, FPDI, &hellip;</li>
									<li class="fragment">Graphing/Charting: pChart, JpGraph, Libchart, &hellip;</li>
									<li class="fragment">Manipulate Office Files: PHPExcel, PHPWord, &hellip;</li>
									<li class="fragment">Database and ORM: Doctrine, Fuel, Kohana, Propel, Redbean, &hellip;</li>
									<li class="fragment">Routing: Klein, Ham, jream/route, bramus/router, &hellip;</li>
									<li class="fragment">&hellip; <em>(#lmgtfy)</em></li>
								</ul>
							</li>
							<li class="fragment" style="margin-top: 1em;">
								General Libraries
								<ul>
									<li>Spoon Library (RIP)</li>
									<li>The Symfony Components</li>
								</ul>
							</li>
						</ul>
					</section>

					<section>
						<h2>Beware though!</h2>
						<ul>
							<li class="fragment">
								Not all codebases are created equally! Lots of cruft out there.
								<ul>
									<li>Bad quality</li>
									<li>No proper abstraction</li>
									<li>Legacy PHP 4 and pre-PHP 5.4 code</li>
									<li>No documentation</li>
									<li>&hellip;</li>
								</ul>
							</li>
						</ul>
					</section>

					<section>
						<h2>Framework?</h2>
						<ul>
							<li class="fragment">
								Framework &gt; Library
								<ul>
									<li class="fragment">Defines a structure to follow</li>
									<li class="fragment">Your project must follow that structure</li>
									</li>
									<li class="fragment">Internally, a framework will most likely contain/use a library</li>
								</ul>
							</li>
							<li class="fragment" style="margin-top: 1em;">
								Examples
								<div class="columns fragment">
									<div class="column column-12">
										<ul>
											<li>Zend Framework</li>
											<li>CakePHP</li>
											<li>CodeIgniter</li>
											<li>Laravel</li>
											<li>Slim</li>
										</ul>
									</div>
									<div class="column column-12">
										<ul>
											<li>Symfony</li>
											<li>YII</li>
											<li>Silex</li>
											<li>Kohana</li>
											<li>etc.</li>
										</ul>
									</div>
								</div>
							</li>
						</ul>
					</section>
				</section>


				<!-- Using Libraries -->
				<section>

					<section>
						<h2>Using Libraries: Kicking it oldskool</h2>

						<p><img src="assets/01/splash-oldskool.jpg" width="361" alt="" style="margin-top: 1em;" /></p>
					</section>

					<section>
						<h2>Obtaining a library</h2>

						<ol class="fragment">
							<li>Look up the library on the internet</li>
							<li>Download it</li>
							<li>Extract it</li>
							<li>Put the correct folder somewhere in your project</li>
							<li>Include the necessary classes</li>
							<li>Use it</li>
						</ol>
					</section>

					<section>
						<h2>Updating a library</h2>
						<ol class="fragment">
							<li>Look up the website of the library again</li>
							<li>Download the new version</li>
							<li>Extract it</li>
							<li>Drop it in your project</li>
							<li>Cross your fingers and hope all still works (mostly: dependencies)</li>
						</ol>
						<footer class="fragment"><em>(If you do keep your code up-to-date that is)</em></footer>
					</section>

					<section>
						<h2>Example: JpGraph (1)</h2>

						<ul>
							<li class="fragment">
								Library to create charts
								<ul>
									<li>Website: <a href="http://jpgraph.net/">http://jpgraph.net/</a></li>
									<li>Documentation: <a href="http://jpgraph.net/download/manuals/">http://jpgraph.net/download/manuals/</a></li>
									<li>Ships with lots of examples in the <code>.zip</code></li>
								</ul>
							</li>
						</ul>

						<div class="fragment warning">
							<p>Warning: This library is outdated (last release 2010) and is in desperate need of a code refresh!</p>
							<p style="margin-top: 0.75em;">We'll merely use it to make a few arguments later on.</p>
						</div>

					</section>

					<section>
						<h2>Example: JpGraph (2)</h2>

						<pre class="bigger"><code class="language-php" data-overlay-example="assets/01/examples/sans-composer/1.jpgraph/index.php" style="max-height: 380px; overflow: scroll;">&lt;?php

// Include needed classes
require_once ('jpgraph/jpgraph.php');
require_once ('jpgraph/jpgraph_pie.php');

// Our data
$data = array(78, 22);

// Create the Pie Graph
$graph = new PieGraph(350, 300, 'auto');
$graph-&gt;SetShadow();

// Set A title for the plot + disable the border
$graph-&gt;title-&gt;Set(&quot;Percentage of chart which resembles Pac-man&quot;);
$graph-&gt;SetFrame(false);

// Create the pieplot
$pieplot = new PiePlot($data);
$pieplot-&gt;SetCenter(0.5, 0.5);
$pieplot-&gt;SetStartAngle(39);
$pieplot-&gt;SetLegends(array('Pac-man', 'Not Pac-Man'));

// Add the pieplot to the graph
$graph-&gt;Add($pieplot);

// JpGraph Bug: one must add the pieplot before setting colors
$pieplot-&gt;SetSliceColors(array('#FFFF00','#FF0000'));

// Style the Legend
$graph-&gt;legend-&gt;SetFrameWeight(0);
$graph-&gt;legend-&gt;Pos(0.5, 0.90, 'center', 'top');
$graph-&gt;legend-&gt;SetFillColor('white');
$graph-&gt;legend-&gt;SetColumns(2);

// Display the graph
$graph-&gt;Stroke();</code></pre>
					</section>


					<section>
						<h2>A Better Example: SwiftMailer (1)</h2>

						<ul>
							<li class="fragment">
								Library to send e-mail
								<ul>
									<li>Website: <a href="http://swiftmailer.org/">http://swiftmailer.org/</a></li>
								</ul>
							</li>
							<li class="fragment" style="margin-top: 1em;">
								Why is this library better?
								<ul>
									<li>Targetted towards PHP5</li>
									<li>
										Comes with an <em>autoloader</em>
										<ul>
											<li>Just include the autoloader and whenever you use one of the Swift classes, it'll automatically <code>require</code> it.</li>
											<li>Having an autoloader mostly attests being <strong>well-structured</strong></li>
										</ul>
									</li>
									<li>Lots of <a href="http://swiftmailer.org/docs/introduction.html">documentation and examples</a></li>
									<li><a href="https://travis-ci.org/swiftmailer/swiftmailer">Unit tested</a></li>
								</ul>
							</li>
						</ul>
					</section>

					<section>
						<h2>A Better Example: SwiftMailer (1)</h2>

						<pre class="bigger"><code class="language-php" data-overlay-example="assets/01/examples/sans-composer/2.swiftmailer/index.php" style="max-height: 380px; overflow: scroll;">&lt;?php

// Include SwiftMailer Autoloader
require_once 'swiftmailer/swift_required.php';

// Create the Transport
$transport = Swift_SmtpTransport::newInstance('relay.odisee.be', 25);

// Create the Mailer using your created Transport
$mailer = Swift_Mailer::newInstance($transport);

// Create a message
$message = Swift_Message::newInstance('Lorem Ipsum')
	-&gt;setFrom(array('johndoe@example.org' =&gt; 'John Doe'))
	-&gt;setTo(array(
		'blackhole@bram.us' =&gt; 'blackhole'
	))
	-&gt;setBody(strip_tags(file_get_contents('assets/content.html')))
	-&gt;addPart(file_get_contents('assets/content.html'), 'text/html');

// Send it (or at least try to)
if(!$mailer-&gt;send($message, $errors)) {
	echo 'Mailer Error: ';
	print_r($errors);
} else {
	echo 'Message sent!';
}

// EOF</code></pre>
					</section>
				</section>

				<section>
					<section>
						<h2>Intermezzo:<br />Autoloaders, Namespaces, &amp; PSR-4</h2>
						<p><img src="assets/01/splash-namespaces.jpg" width="600" alt="" style="margin-top: 1em;" /></p>
					</section>

					<section>
						<h2>Autoloaders (1)</h2>

						<ul>
							<li class="fragment">Essentially, an autoloader is a function which finds and loads a PHP class which has not been included yet via <code>include</code> or <code>require</code>.
								<ul>
									<li class="fragment">The function takes one argument: the name of the requested class</li>
									<li class="fragment">Function then translates the classname to an actual file to include</li>
									<li class="fragment">Easy to write, if you keep your naming and structure consistent</li>
								</ul>
							</li>
							<li class="fragment" style="margin-top: 1em;">
								Tell PHP to use that function for autoloading, using
								<pre class="bigger"><code class="language-php">spl_autoload_register('nameOfTheFunction');</code></pre>
							</li>
						</ul>
					</section>

					<section>
						<h2>Autoloaders (2)</h2>
						<ul>
							<li class="fragment">
								Example: SwiftMailer's autoloader (stripped down)
								<pre class="bigger"><code class="language-php">function autoload($class) {
	if (0 !== strpos($class, 'Swift_')) { //Don't interfere w other autoloaders
		return;
	}

	$path = __DIR__ . '/' . str_replace('_', '/', $class) . '.php';

	if (!file_exists($path)) return;

	require $path;
}</code></pre>
								<ul>
									<li class="fragment">When using <code>Swift_InputByteStream</code> it'll include <code>/path/to/swiftmailer/Swift/InputByteStream.php</code></li>
									<li class="fragment">When using <code>Swift_Encoder_Base64Encoder</code> it'll include <code>/path/to/swiftmailer/Swift/Encoder/Base64Encoder.php</code></li>
								</ul>
							</li>
						</ul>
					</section>

					<section>
						<h2>Namespaces (1)</h2>

						<ul>
							<li class="fragment">When we talk about classes we <a href="http://bramus.github.com/ws1-sws-course-materials/04.classes.html#/3/1">didn't talk about namespaces</a></li>
							<li class="fragment" style="margin-top: 1em;">
								Namespaces allow you to logically group and name your classes
								<ul>
									<li class="fragment">No more lengthy classnames such as <code>Swift_Encoder_Base64Encoder</code></li>
									<li class="fragment">&hellip; but a class <code>Base64Encoder</code> in the <code>Swift\Encoder</code> namespace</li>
								</ul>
							</li>
						</ul>
					</section>

					<section>
						<h2>Namespaces (2) &mdash; Demo time!</h2>

						<div class="hastooltip fragment">

							<figure><img src="assets/01/namespaces.png" alt="" title="" width="580" class="noborder" /></figure>

							<p style="font-size: 75%">Let's take a look at the files in  <code>assets/01/examples/namespaces/</code> <a href="assets/01/examples/namespaces/">&rarr;</a></p>

							<div class="tooltip">
								<div style="width: 600px;">
									<ul>
										<li>
											Define a namespace for your class at the very top of the file
											<pre><code class="language-php">namespace Ikdoeict\Demo;
class Foo { ... }</code></pre>
										</li>
										<li style="margin-top: 1em;">
											Refer to a class with its full namespace.
											<pre><code class="language-php">$foo = new \Ikdoeict\Demo\Foo('hello-foo');</code></pre>
										</li>
										<li style="margin-top: 1em;">
											If you don't use the full namespace, PHP will look in the current active namespace and the &ndash; via <code>use</code> &ndash; imported namespaces.
											<pre><code class="language-php">namespace Ikdoeict\Demo;
class Bar extends Foo { ... } // = extends Ikdoeict\Demo\Foo</code></pre>
											<pre><code class="language-php">use \Ikdoeict\Demo\Baz;
$baz = new Baz('hello-baz'); // = \Ikdoeict\Demo\Baz</code></pre>
										</li>
										<li style="margin-top: 1em;">
											The global namespace is <code>\</code>
											<pre><code class="language-php">$di = new \DirectoryIterator(__DIR__);</code></pre>
										</li>
									</ul>
								</div>
							</div>
						</div>

					</section>

					<section>
						<h2>PSR-0</h2>

						<ul>
							<li class="fragment">
								<a href="http://www.php-fig.org/psr/psr-0/">PSR-0</a> is <em>&ldquo;a standard describing mandatory requirements for autoloader interoperability&rdquo;</em>
								<ul>
									<li class="fragment">
										Defines how to namespace your code:<br />
										<code>\&lt;VendorName&gt;\(&lt;Namespace&gt;\)*&lt;ClassName&gt;</code></li>
									<li class="fragment">
										Defines how that namespace translates to an organization on disk<br />
										<code>/path/to/project/vendor/Vendorname/Namespace/ClassName.php</code>
									</li>
								</ul>
							</li>
							<li class="fragment" style="margin-top: 1em;">
								In other words: Adhering to this folder structure makes your library play nice with <a href="https://gist.github.com/jwage/221634">the PSR-0 autoloader</a>.
							</li>
						</ul>
						<footer class="fragment"><em>Beware: Use the exact casing on disk as some file systems are Case Sensitive!</em></footer>
					</section>

					<section>
						<h2>PSR-4</h2>

						<ul>
							<li class="fragment">
								<a href="http://www.php-fig.org/psr/psr-4/">PSR-4</a> is <em>&ldquo;a specification for autoloading classes from file paths&rdquo;</em>
								<ul>
									<li class="fragment">PSR-0 compatible</li>
									<li class="fragment">
										Affords a more concise folder structure. <br />E.g. <code>\Vendorname\Namespace\ClassName</code>
										<ul>
											<li>PSR-0: <code>/path/to/project/Vendorname/Namespace/ClassName.php</code></li>
											<li>PSR-4: <code>/path/to/project/ClassName.php</code></li>
										</ul>
									</li>
								</ul>
							</li>
							<li class="fragment" style="margin-top: 1em;">
								Roughly translated: PSR-4 = PSR-0, redux.
							</li>
						</ul>
					</section>
				</section>

				<section>
					<section>
						<h2>Using Libraries Redux:<br />Composer &amp; Packagist</h2>
						<p><img src="assets/01/splash-composer.png" width="500" alt="" style="margin-top: 1em;" /></p>
					</section>

					<section>
						<h2>Composer</h2>

						<div class="columns clearfix fragment">
							<div class="column column-13">
								<figure><img src="assets/01/logo-composer-transparent.png" width="250" class="noborder" title="Composer" /></figure>
							</div>
							<div class="column column-23" style="width: 66.666666%">
								<blockquote style="width: 100%; margin-top: 1em;">Composer is a tool for dependency management in PHP. It allows you to declare the dependent libraries your project needs and it will install them in your project for you.</blockquote>
							</div>
						</div>

						<ul style="clear: left; margin-top: 10em;">
							<li class="fragment">
								Roughly translated: this tool will save you lots of headaches
								<ul>
									<li>Just tell composer which package and which version <em>(specific, or &ldquo;the latest&rdquo;)</em> of a library you need and it will install/update it for you</li>
								</ul>
							</li>
						</ul>
					</section>

					<section>
						<h2>Packagist</h2>
						<ul>
							<li class="fragment">
								Composer is worthless without <a href="https://packagist.org/">Packagist</a>:
								<ul style="font-size: 75%">
									<li class="fragment">Composer = command line tool which downloads and installs the packages</li>
									<li class="fragment">Packagist = website aggregating all installable packages and their versions</li>
								</ul>
								<div class="fragment" style="text-align: center;">
									<figure><img src="assets/01/packagist.png" alt="" title="" width="580" class="noborder" /></figure>
								</div>
							</li>
						</ul>
					</section>

					<section>
						<h2>Why Composer and not X?</h2>

						<ul>
							<li class="fragment">
								Composer is a <strong>project specific</strong> dependency manager
								<ul>
									<li>Packages are installed on a per project basis (<code>vendor</code> subfolder), not system-wide (cfr. PEAR)</li>
								</ul>
							</li>
							<li class="fragment" style="margin-top: 1em;">
								Composer is <strong>clever</strong>
								<ul>
									<li>Composer finds out which versions of which packages (and which versions of its dependencies) need to be installed, and installs them.</li>
								</ul>
							</li>
							<li class="fragment" style="margin-top: 1em;">
								Installed packages can be <strong>autoloaded</strong>
								<ul>
									<li>Plays nice with PSR-0 and PSR-4 compliant packages</li>
									<li>Composer will generate one single autoloader for all dependencies</li>
								</ul>
							</li>
						</ul>
						<footer class="fragment" style="bottom: 0;"><em>Told you: it saves lots of headaches! ;-)</em></footer>
					</section>

					<section>
						<h2>Installing Composer</h2>

						<ul>
							<li class="fragment">
								Unix / OS X
								<pre class="bigger"><code>$ curl -s https://getcomposer.org/installer | php
$ sudo mkdir /usr/local/bin/
$ mv composer.phar /usr/local/bin/composer</code></pre>
							</li>
							<li class="fragment" style="margin-top: 1em;">
								Windows: <a href="https://getcomposer.org/Composer-Setup.exe">Download &amp; Run the installer</a>
							</li>
						</ul>
						<div class="fragment warning" style="margin-top: 1em;"><p style="font-size: 65%; line-height: 1.2;">OS X users beware: If you're using MAMP, make sure that the <code>php</code> binary used is the one included with MAMP, and not the one shipped with OS X. <em>(<a href="00.intro.html#/3/6">instructions</a>)</em>!</p></div>
					</section>

					<section>
						<h2 style="font-size: 150%">Installing packages using Composer: Automatic</h2>
						<ul>
							<li class="fragment">
								Run <code>composer require vendor/package version</code> on the CLI
								<ul>
									<li>e.g. <code>$ composer require swiftmailer/swiftmailer 4.*</code></li>
								</ul>
							</li>
							<li class="fragment" style="margin-top: 1em;">
								Composer will:
								<ol>
									<li class="fragment">
										Check with packagist for its existence
									</li>
									<li class="fragment">
										Write down that package requirement in <code>composer.json</code>
										<div class="fragment"><pre class="bigger"><code class="language-js dontrun">{
    &quot;require&quot;: {
        &quot;swiftmailer/swiftmailer&quot;: &quot;4.*&quot;
    }
}</code></pre></div>
									</li>
									<li class="fragment">Download the package into <code>./vendor/<em>vendorname</em>/<em>packagename</em></code></li>
									<li class="fragment">Generate an autoloader for all installed packages</li>
									<li class="fragment">Generate a lock file <code>composer.lock</code> (= list of the exact versions installed + dependency hierarchy)</li>
								</ol>
							</li>
						</ul>
					</section>

					<section>
						<h2 style="font-size: 150%">Installing packages using Composer: Manual</h2>
						<ul>
							<li class="fragment">
								Create a file named <code>composer.json</code> in your project root to declare your dependencies in
								<div class="fragment"><pre class="bigger"><code class="language-js dontrun">{
    &quot;require&quot;: {
        &quot;swiftmailer/swiftmailer&quot;: &quot;4.*&quot;
    }
}</code></pre></div>
							</li>
							<li class="fragment" style="margin-top: 1em;">
								Run <code>composer install</code> and composer will:
								<ol>
									<li class="fragment">
										Check with packagist for its existence
									</li>
									<li class="fragment">Download the package into <code>./vendor/<em>vendorname</em>/<em>packagename</em></code></li>
									<li class="fragment">Generate an autoloader for all installed packages</li>
									<li class="fragment">Generate a lock file <code>composer.lock</code></li>
								</ol>
							</li>
						</ul>
						<footer class="fragment" style="bottom: 0;"><em>(note: this scenario assumes no lock file is present yet)</em></footer>
					</section>

					<section>
						<h2>Using the installed packages</h2>
						<ul>
							<li class="fragment">
								Include the Composer generated autoloader instead of the one from the package or manually including all required filed
								<pre class="bigger"><code class="language-php">require_once __DIR__ . '/vendor/autoload.php';</code></pre>
							</li>
							<li class="fragment" style="margin-top: 1em;">
								Swiftmailer example
								<pre class="bigger"><code class="language-php" data-overlay-example="assets/01/examples/with-composer/1.swiftmailer/index.php" style="max-height: 240px; overflow: scroll;">&lt;?php

// Require composer autoloader
require_once __DIR__ . '/vendor/autoload.php';

// Create the Transport
$transport = Swift_SmtpTransport::newInstance('relay.odisee.be', 25);

// Create the Mailer using your created Transport
$mailer = Swift_Mailer::newInstance($transport);

// Create a message
$message = Swift_Message::newInstance('Lorem Ipsum')
	-&gt;setFrom(array('johndoe@example.org' =&gt; 'John Doe'))
	-&gt;setTo(array(
		'blackhole@bram.us' =&gt; 'blackhole'
	))
	-&gt;setBody(strip_tags(file_get_contents('assets/content.html')))
	-&gt;addPart(file_get_contents('assets/content.html'), 'text/html');

// Send it (or at least try to)
if(!$mailer-&gt;send($message, $errors)) {
	echo 'Mailer Error: ';
	print_r($errors);
} else {
	echo 'Message sent!';
}

// EOF</code></pre>
							</li>
						</ul>

					</section>

					<section>
						<h2>About the Lock File</h2>
						<ul>
							<li class="fragment">
								<code>composer.lock</code> has precedence over <code>composer.json</code>.
								<ul>
									<li class="fragment">
										When running <code>composer install</code> it will look for <code>composer.lock</code>.<br />If not found, it will fall back to <code>composer.json</code>.
									</li>
								</ul>
							</li>
							<li class="fragment" style="margin-top: 1em;">
								Put Differently: It locks the project to those specific versions
								<ul>
									<li class="fragment">
										Successive runs of <code>composer install</code> will use the lock file, even if you've changed <code>composer.json</code>
									</li>
								</ul>
							</li>
							<li class="fragment" style="margin-top: 1em;">
								The lock file ensures all devs/servers use the same dependency versions
								<ul>
									<li class="fragment">Just clone the source and run <code>composer install</code></li>
								</ul>
							</li>
						</ul>
					</section>

					<section>
						<h2>Updating packages</h2>
						<ul>
							<li class="fragment">
								Automatic:
								<ul>
									<li class="fragment">
										Run <code>composer require vendor/package newversion</code> on the CLI
									</li>
								</ul>
							</li>
							<li class="fragment" style="margin-top: 1em;">
								Manual:
								<ul>
									<li class="fragment">
										Update <code>composer.json</code>
									</li>
									<li class="fragment">
										Run <code>composer update</code>
									</li>
								</ul>
							</li>
							<li class="fragment" style="margin-top: 1em;">
								In both cases a new <code>composer.lock</code> file will be generated.
								<ul>
									<li class="fragment">When stuff is verified to still work, commit the lock file into version control</li>
								</ul>
							</li>
						</ul>
					</section>

					<section>
						<h2>Specifying Package Versions</h2>
						<ul>
							<li class="fragment">
								Latest commit: <code>&quot;dev-master&quot;</code>
							</li>
							<li class="fragment" style="margin-top: 1em;">
								Exact version: <code>&quot;4.2.1&quot;</code>
							</li>
							<li class="fragment" style="margin-top: 1em;">
								Range: <code>&quot;&gt;=4.1.6,&lt;=5.0&quot;</code>
							</li>
							<li class="fragment" style="margin-top: 1em;">
								Wildcard: <code>&quot;4.1.*&quot;</code>
								<ul>
									<li>= equivalent of <code>&gt;=4.1.0,&lt;4.2.0</code></li>
								</ul>
							</li>
							<li class="fragment" style="margin-top: 1em;">
								Tilde Operator: <code>&quot;~4.1&quot;</code>
								<ul>
									<li>= equivalent of <code>&gt;=4.1,&lt;5.0</code></li>
									<li>&rarr; Recommended; Useful for projects respecting <a href="http://semver.org/">semantic versioning</a></li>
								</ul>
							</li>
						</ul>
					</section>

					<section>
						<h2>Composer vs. Version Control</h2>
						<ul>
							<li class="fragment">
								A few important notes:
									<div class="fragment warning" style="margin-top: 0.25em;">Don't ever add the <code>vendor/</code> folder to version control!</div>
									<div class="fragment warning" style="margin-top: 0.25em;">Don't ever change the contents of the <code>vendor/</code> folder!</div>
									<div class="fragment warning" style="margin-top: 0.25em;">Do add <code>composer.json</code> to version control!</div>
									<div class="fragment warning" style="margin-top: 0.25em;">Do add <code>composer.lock</code> to version control!</div>
							</li>
						</ul>
					</section>

				</section>


				<section>
					<section>
						<h2>Library Close-up: Twig</h2>

						<p><img src="assets/01/splash-twig.jpg" width="580" alt="" /></p>
					</section>

					<section>
						<h2>Twig</h2>
						<ul>
							<li class="fragment">
								Library to working with templates which we used in WS1
								<ul>
									<li>Website: <a href="http://twig.sensiolabs.org/">http://twig.sensiolabs.org/</a></li>
									<li>Documentation: <a href="http://twig.sensiolabs.org/documentation">http://twig.sensiolabs.org/documentation</a></li>
								</ul>
							</li>
							<li class="fragment" style="margin-top: 1em;">
								Installation:
								<ul>
									<li class="fragment">
										New project, not yet requiring it via Composer:
										<div class="fragment"><pre class="bigger"><code class="dontrun">composer require twig/twig ~1.0</code></pre></div>
									</li>
									<li class="fragment">
										Existing project, already requiring it via Composer:
										<div class="fragment"><pre class="bigger"><code class="dontrun">composer install</code></pre></div>
									</li>
								</ul>
							</li>
						</ul>
					</section>

					<section>
						<h2>Demo time!</h2>

						<div class="hastooltip">
							<figure><img src="assets/01/twig.png" alt="" title="" width="580" class="noborder" /></figure>

							<p style="font-size: 75%; padding-bottom: 2em;">Let's take a look at the files in  <code>assets/01/examples/with-composer/2.twig/</code> <a href="assets/01/examples/with-composer/2.twig/">&rarr;</a></p>

							<div class="tooltip">
								<div>
									<ul>
										<li>Requirements already defined in <code>composer.json</code>/<code>composer.lock</code></li>
										<li>Run <code>composer install</code></li>
										<li>Require composer's <code>autoloader.php</code></li>
										<li>Use Twig as we did before</li>
									</ul>
								</div>
							</div>

						</div>

					</section>

				</section>


				<section>
					<section>
						<h2>Library Close-up: Doctrine DBAL</h2>

						<p><img src="assets/01/splash-doctrine.jpg" width="421" alt="" style="margin-top: 4em;" /></p>
					</section>

					<section>
						<h2>Doctrine DBAL</h2>
						<ul>
							<li class="fragment">
								Database Abstraction Layer from the Doctrine Project
								<ul>
									<li>Website: <a href="http://www.doctrine-project.org/projects/dbal.html">http://www.doctrine-project.org/projects/dbal.html</a></li>
									<li>Documentation: <a href="http://docs.doctrine-project.org/projects/doctrine-dbal/en/latest/index.html">http://docs.doctrine-project.org/projects/doctrine-dbal/en/latest/index.html</a></li>
								</ul>
							</li>
							<li class="fragment" style="margin-top: 1em;">
								Installation:
								<ul>
									<li class="fragment">
										New project, not yet requiring it via Composer:
										<pre class="bigger"><code class="dontrun">composer require doctrine/dbal ~2.3</code></pre>
									</li>
									<li class="fragment">
										Existing project, already requiring it via Composer:
										<pre class="bigger"><code class="dontrun">composer install</code></pre>
									</li>
								</ul>
							</li>
						</ul>
						<footer class="fragment"><em>Note: Don't confuse Doctrine DBAL with <a href="http://www.doctrine-project.org/projects/orm.html">Doctrine ORM</a> (which we won't be using)</em></footer>
					</section>

					<section>
						<h2>Demo time!</h2>

						<figure><img src="assets/01/doctrine.png" alt="" title="" width="580" class="noborder" /></figure>

						<p style="font-size: 75%">Let's take a look at the files in  <code>assets/01/examples/with-composer/3.doctrine/</code> <a href="assets/01/examples/with-composer/3.doctrine/">&rarr;</a></p>

					</section>

					<section>
						<h2>Demo Recap</h2>

						<ul>
							<li><a href="http://docs.doctrine-project.org/projects/doctrine-dbal/en/latest/reference/configuration.html#getting-a-connection">Establishing a connection</a></li>
							<li><a href="http://docs.doctrine-project.org/projects/doctrine-dbal/en/latest/reference/data-retrieval-and-manipulation.html#executeupdate">Executing Updates</a> <em>(queries that yield no resultset)</em></li>
							<li><a href="http://docs.doctrine-project.org/projects/doctrine-dbal/en/latest/reference/data-retrieval-and-manipulation.html#executequery">Executing Queries</a> <em>(queries that yield a resultset)</em></li>
							<li><a href="http://docs.doctrine-project.org/projects/doctrine-dbal/en/latest/reference/data-retrieval-and-manipulation.html#fetchall">Fetching data</a></li>
						</ul>

						<p class="fragment warning">Don't forget the <code>utf8mb4</code> charset on the connection!</p>

						<footer class="fragment">&rarr; From now on, we'll be using Doctrine DBAL</footer>

					</section>

				</section>


				<section>
					<section>
						<h2>Want more?</h2>

						<p><img src="assets/01/splash-more.jpg" width="500" alt="" /></p>
					</section>
					<section>
						<h2>Other libraries worth checking out</h2>
						<ul>
							<li><a href="http://guzzlephp.org/">Guzzle</a> &mdash; PHP HTTP client</li>
							<li><a href="http://imagine.readthedocs.org/en/latest/">Imagine</a> &mdash; Image manipulation</li>
							<li><a href="https://github.com/Seldaek/monolog">Monolog</a> &mdash; Logging</li>
							<li><a href="http://geocoder-php.org/">Geocoder</a> &mdash; Geocoding manipulations</li>
							<li><a href="https://github.com/fzaninotto/Faker">Faker</a> &mdash; Generate fake data</li>
							<li>&hellip;</li>
						</ul>
					</section>
				</section>

				<!-- The END -->
				<section>
					<section>
						<h2>Questions?</h2>
						<footer>
							<em><a href="http://www.ikdoeict.be/">ikdoeict.be</a> &mdash; <a href="mailto:joris.maervoet@odisee.be">joris.maervoet@odisee.be</a></em>
						</footer>
					</section>
				</section>



				<!-- Sources -->
				<section id="sources">
					<section>
						<h2>Sources</h2>
						<ul>
							<li><a href="http://coding.smashingmagazine.com/2011/10/17/getting-started-with-php-templating/">http://coding.smashingmagazine.com/2011/10/17/getting-started-with-php-templating/</a></li>
							<li><a href="twig.sensiolabs.org/pdf/Twig.pdf">twig.sensiolabs.org/pdf/Twig.pdf</a></li>
							<li><a href="https://github.com/php-fig/fig-standards/blob/master/accepted/PSR-0.md">https://github.com/php-fig/fig-standards/blob/master/accepted/PSR-0.md</a></li>
							<li><a href="http://www.php-fig.org/psr/psr-0/">http://www.php-fig.org/psr/psr-0/</a></li>
							<li><a href="http://getcomposer.org/doc/00-intro.md">http://getcomposer.org/doc/00-intro.md</a></li>
							<li><a href="http://nelm.io/blog/2011/12/composer-part-1-what-why/">http://nelm.io/blog/2011/12/composer-part-1-what-why/</a></li>
							<li><a href="https://packagist.org/">https://packagist.org/</a></li>
							<li><a href="https://speakerdeck.com/hhamon/useful-php-libraries">https://speakerdeck.com/hhamon/useful-php-libraries</a></li>
						</ul>
					</section>
				</section>

			</div>

			<!-- The navigational controls UI -->
			<aside class="controls">
				<a class="left" href="#">&#x25C4;</a>
				<a class="right" href="#">&#x25BA;</a>
				<a class="up" href="#">&#x25B2;</a>
				<a class="down" href="#">&#x25BC;</a>
				<span id="revealIndex">/</span>
			</aside>

			<!-- Index Link -->
			<aside class="back">
				<a href="index.html">&larr; Back to index</a>
			</aside>

			<!-- ikdoeict.be Link -->
			<a href="http://www.ikdoeict.be/" title="ikdoeict.be" id="ikdoeict">ikdoeict.be</a>

			<!-- Displays presentation progress, max value changes via JS to reflect # of slides -->
			<div class="progress"><span></span></div>

		</div>

		<script src="js/reveal.js"></script>
		<script src="lib/highlight.js"></script>
		<script src="lib/prefixfree.js"></script>
		<script src="lib/css-snippets.js"></script>
		<script src="lib/css-edit.js"></script>
		<script src="lib/incrementable.js"></script>
		<script src="js/main.js"></script>

	</body>
</html>